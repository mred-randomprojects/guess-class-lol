<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Skills Trainer — Implementation Plan</title>
<style>
  :root {
    --bg: #0f1118;
    --card: #1a1d2e;
    --border: #2a2d3e;
    --gold: #c8aa6e;
    --gold-dim: rgba(200, 170, 110, 0.15);
    --text: #e0e0e0;
    --muted: #8a8a9a;
    --green: #34d399;
    --green-bg: rgba(52, 211, 153, 0.1);
    --blue: #60a5fa;
    --blue-bg: rgba(96, 165, 250, 0.1);
    --red: #f87171;
    --red-bg: rgba(248, 113, 113, 0.1);
    --purple: #a78bfa;
    --purple-bg: rgba(167, 139, 250, 0.1);
  }
  * { margin: 0; padding: 0; box-sizing: border-box; }
  body {
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    background: var(--bg);
    color: var(--text);
    line-height: 1.6;
    padding: 0;
  }
  .header {
    background: var(--card);
    border-bottom: 1px solid var(--border);
    padding: 24px 32px;
    position: sticky;
    top: 0;
    z-index: 10;
  }
  .header h1 {
    color: var(--gold);
    font-size: 1.5rem;
    font-weight: 700;
    letter-spacing: -0.02em;
  }
  .header p { color: var(--muted); font-size: 0.875rem; margin-top: 4px; }
  .container { max-width: 900px; margin: 0 auto; padding: 32px 24px; }
  section { margin-bottom: 40px; }
  h2 {
    color: var(--gold);
    font-size: 1.15rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 0.05em;
    margin-bottom: 16px;
    padding-bottom: 8px;
    border-bottom: 1px solid var(--border);
  }
  h3 {
    color: var(--text);
    font-size: 0.95rem;
    font-weight: 600;
    margin-bottom: 10px;
    margin-top: 20px;
  }
  p, li { color: var(--text); font-size: 0.9rem; }
  p { margin-bottom: 12px; }
  ul, ol { padding-left: 20px; margin-bottom: 12px; }
  li { margin-bottom: 6px; }
  code {
    background: rgba(200, 170, 110, 0.1);
    color: var(--gold);
    padding: 2px 6px;
    border-radius: 4px;
    font-size: 0.85em;
    font-family: 'SF Mono', 'Fira Code', monospace;
  }
  .card {
    background: var(--card);
    border: 1px solid var(--border);
    border-radius: 12px;
    padding: 20px;
    margin-bottom: 16px;
  }
  table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 16px;
    font-size: 0.875rem;
  }
  th {
    text-align: left;
    color: var(--muted);
    font-weight: 600;
    text-transform: uppercase;
    font-size: 0.75rem;
    letter-spacing: 0.05em;
    padding: 10px 12px;
    border-bottom: 1px solid var(--border);
  }
  td {
    padding: 10px 12px;
    border-bottom: 1px solid var(--border);
    color: var(--text);
  }
  tr:last-child td { border-bottom: none; }
  .badge {
    display: inline-block;
    padding: 2px 10px;
    border-radius: 999px;
    font-size: 0.75rem;
    font-weight: 600;
  }
  .badge-done { background: var(--green-bg); color: var(--green); }
  .badge-current { background: var(--blue-bg); color: var(--blue); }
  .badge-pending { background: rgba(255,255,255,0.05); color: var(--muted); }
  .badge-manual { background: var(--red-bg); color: var(--red); }
  .badge-future { background: var(--purple-bg); color: var(--purple); }
  pre {
    background: #12141f;
    border: 1px solid var(--border);
    border-radius: 8px;
    padding: 16px;
    overflow-x: auto;
    font-size: 0.8rem;
    line-height: 1.5;
    margin-bottom: 16px;
    color: var(--muted);
    font-family: 'SF Mono', 'Fira Code', monospace;
  }
  pre .key { color: var(--blue); }
  pre .str { color: var(--green); }
  pre .num { color: var(--gold); }
  .flow-step {
    display: flex;
    align-items: flex-start;
    gap: 16px;
    margin-bottom: 16px;
  }
  .flow-num {
    flex-shrink: 0;
    width: 32px;
    height: 32px;
    border-radius: 50%;
    background: var(--gold-dim);
    color: var(--gold);
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.85rem;
  }
  .flow-content { flex: 1; }
  .flow-content strong { color: var(--gold); }
  .note {
    background: rgba(96, 165, 250, 0.08);
    border-left: 3px solid var(--blue);
    padding: 12px 16px;
    border-radius: 0 8px 8px 0;
    margin-bottom: 16px;
    font-size: 0.85rem;
  }
  .note strong { color: var(--blue); }
  .warn {
    background: rgba(248, 113, 113, 0.08);
    border-left: 3px solid var(--red);
    padding: 12px 16px;
    border-radius: 0 8px 8px 0;
    margin-bottom: 16px;
    font-size: 0.85rem;
  }
  .warn strong { color: var(--red); }
  .scoring-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr);
    gap: 12px;
    margin-bottom: 16px;
  }
  .scoring-card {
    text-align: center;
    padding: 16px;
    border-radius: 10px;
    border: 1px solid var(--border);
  }
  .scoring-card .pts {
    font-size: 1.5rem;
    font-weight: 700;
    display: block;
    margin-bottom: 4px;
  }
  .scoring-card .label { font-size: 0.8rem; color: var(--muted); }
  .sc-green { background: var(--green-bg); }
  .sc-green .pts { color: var(--green); }
  .sc-yellow { background: rgba(250, 204, 21, 0.1); }
  .sc-yellow .pts { color: #facc15; }
  .sc-red { background: var(--red-bg); }
  .sc-red .pts { color: var(--red); }
  .timeline {
    position: relative;
    padding-left: 28px;
  }
  .timeline::before {
    content: '';
    position: absolute;
    left: 9px;
    top: 6px;
    bottom: 6px;
    width: 2px;
    background: var(--border);
  }
  .tl-item {
    position: relative;
    margin-bottom: 16px;
    display: flex;
    align-items: flex-start;
    gap: 12px;
  }
  .tl-dot {
    position: absolute;
    left: -28px;
    top: 5px;
    width: 20px;
    height: 20px;
    border-radius: 50%;
    border: 2px solid var(--border);
    background: var(--bg);
    display: flex;
    align-items: center;
    justify-content: center;
  }
  .tl-dot.done { border-color: var(--green); background: var(--green-bg); }
  .tl-dot.done::after { content: '✓'; color: var(--green); font-size: 0.65rem; font-weight: 700; }
  .tl-dot.current { border-color: var(--blue); background: var(--blue-bg); }
  .tl-dot.current::after { content: ''; width: 8px; height: 8px; border-radius: 50%; background: var(--blue); }
  .tl-dot.pending { border-color: var(--border); }
  .tl-text { font-size: 0.9rem; }
  .tl-text.done { color: var(--muted); text-decoration: line-through; }
  .tl-text.current { color: var(--text); font-weight: 600; }
  .tl-text.pending { color: var(--muted); }
</style>
</head>
<body>

<div class="header">
  <h1>Skills Trainer — Implementation Plan</h1>
  <p>LoL Champion Training Suite &middot; Expanding from class guessing to ability recall</p>
</div>

<div class="container">

<!-- OVERVIEW -->
<section>
  <h2>Overview</h2>
  <p>
    Add a second game mode: <strong>Skills Trainer</strong> (<code>/skills-trainer</code>),
    alongside the existing <strong>Class Trainer</strong> (<code>/class-trainer</code>).
    The skills trainer shows a champion's ability icon and the player recalls what the ability does,
    then self-reports how well they knew it.
  </p>
</section>

<!-- DATA -->
<section>
  <h2>Data</h2>

  <h3>What we have today</h3>
  <div class="card">
    <table>
      <thead><tr><th>File</th><th>Source</th><th>Script</th><th>Status</th></tr></thead>
      <tbody>
        <tr>
          <td><code>champions.json</code></td>
          <td>Data Dragon <code>/champion.json</code></td>
          <td><code>fetchChampions.mjs</code></td>
          <td><span class="badge badge-done">Done</span></td>
        </tr>
        <tr>
          <td><code>championClasses.json</code></td>
          <td>Manually curated (wiki)</td>
          <td>None</td>
          <td><span class="badge badge-manual">Manual</span></td>
        </tr>
        <tr>
          <td><code>championSpells.json</code></td>
          <td>Data Dragon <code>/champion/{id}.json</code></td>
          <td><code>fetchChampionSpells.mjs</code></td>
          <td><span class="badge badge-done">Done</span></td>
        </tr>
      </tbody>
    </table>
  </div>

  <h3>Data Dragon spell data (per champion)</h3>
  <p>From the detailed endpoint <code>cdn/{version}/data/en_US/champion/{id}.json</code>, we extract:</p>
  <ul>
    <li><strong>Passive:</strong> name, description, icon</li>
    <li><strong>Q / W / E / R:</strong> name, description, icon, cooldowns (per rank), costs (per rank), cost type, range, max rank</li>
  </ul>
  <p>
    Spell icon URL: <code>cdn/{version}/img/spell/{image}</code><br>
    Passive icon URL: <code>cdn/{version}/img/passive/{image}</code>
  </p>

  <h3>Schema</h3>
<pre>{
  <span class="key">"version"</span>: <span class="str">"16.3.1"</span>,
  <span class="key">"fetchedAt"</span>: <span class="str">"2026-02-16T12:00:00.000Z"</span>,
  <span class="key">"champions"</span>: {
    <span class="key">"Veigar"</span>: {
      <span class="key">"passive"</span>: {
        <span class="key">"name"</span>: <span class="str">"Phenomenal Evil Power"</span>,
        <span class="key">"description"</span>: <span class="str">"Striking an enemy Champion with..."</span>,
        <span class="key">"image"</span>: <span class="str">"VeigarEntropy.png"</span>
      },
      <span class="key">"spells"</span>: [{
        <span class="key">"key"</span>: <span class="str">"Q"</span>,
        <span class="key">"name"</span>: <span class="str">"Baleful Strike"</span>,
        <span class="key">"description"</span>: <span class="str">"Veigar unleashes a bolt..."</span>,
        <span class="key">"image"</span>: <span class="str">"VeigarBalefulStrike.png"</span>,
        <span class="key">"cooldown"</span>: [<span class="num">6</span>, <span class="num">5.5</span>, <span class="num">5</span>, <span class="num">4.5</span>, <span class="num">4</span>],
        <span class="key">"cost"</span>: [<span class="num">30</span>, <span class="num">35</span>, <span class="num">40</span>, <span class="num">45</span>, <span class="num">50</span>],
        <span class="key">"costType"</span>: <span class="str">"Mana"</span>,
        <span class="key">"maxrank"</span>: <span class="num">5</span>
      }]
    }
  }
}</pre>

  <h3>Fetch scripts</h3>
  <p>All scripts record a <code>fetchedAt</code> ISO timestamp in their output.</p>
  <ul>
    <li><code>npm run fetch-champions</code> — champion list (id, name, image)</li>
    <li><code>npm run fetch-spells</code> — detailed spell data for all champions</li>
    <li><code>npm run fetch-data</code> — runs both in sequence</li>
  </ul>

  <div class="warn">
    <strong>Note on championClasses.json:</strong> This file is manually curated. Data Dragon only
    provides parent-level tags (Mage, Fighter, Tank), not the subclasses we use (Burst, Battlemage,
    Artillery). There is no reliable API to automate this.
  </div>
</section>

<!-- ROUTING -->
<section>
  <h2>Routing</h2>
  <p>Add <code>react-router-dom</code>. Three routes:</p>
  <div class="card">
    <table>
      <thead><tr><th>Path</th><th>Component</th><th>Purpose</th></tr></thead>
      <tbody>
        <tr>
          <td><code>/</code></td>
          <td><code>LandingPage</code></td>
          <td>Choose game mode</td>
        </tr>
        <tr>
          <td><code>/class-trainer</code></td>
          <td><code>ClassTrainer</code></td>
          <td>Guess champion classes (current game)</td>
        </tr>
        <tr>
          <td><code>/skills-trainer</code></td>
          <td><code>SkillsTrainer</code></td>
          <td>Recall champion abilities</td>
        </tr>
      </tbody>
    </table>
  </div>
</section>

<!-- SKILLS TRAINER GAME DESIGN -->
<section>
  <h2>Skills Trainer — Game Design</h2>

  <h3>Flow</h3>
  <div class="flow-step">
    <div class="flow-num">1</div>
    <div class="flow-content">
      <strong>Config screen</strong> — Choose which champions to practice (filter by class, or all).
    </div>
  </div>
  <div class="flow-step">
    <div class="flow-num">2</div>
    <div class="flow-content">
      <strong>Game loop</strong> — For each champion, show one ability at a time (passive → Q → W → E → R).
      Display just the <strong>icon</strong>. Player tries to recall what it does, then clicks "Reveal"
      to see full details. Self-reports: "Nailed it" / "Partially" / "No idea".
    </div>
  </div>
  <div class="flow-step">
    <div class="flow-num">3</div>
    <div class="flow-content">
      <strong>Results screen</strong> — Summary of score + list of abilities the player struggled with.
    </div>
  </div>

  <h3>Ability reveal card</h3>
  <p>When revealed, show:</p>
  <ul>
    <li>Ability name</li>
    <li>Full description</li>
    <li>Cooldowns per rank</li>
    <li>Costs per rank + resource type</li>
    <li>Range</li>
    <li>Color-coded: AP scaling <span style="color:var(--blue)">blue</span>,
        AD scaling <span style="color:var(--red)">red</span> (parsed from description where possible)</li>
  </ul>

  <h3>Self-report scoring</h3>
  <div class="scoring-grid">
    <div class="scoring-card sc-green">
      <span class="pts">2</span>
      <span class="label">Nailed it</span>
    </div>
    <div class="scoring-card sc-yellow">
      <span class="pts">1</span>
      <span class="label">Partially</span>
    </div>
    <div class="scoring-card sc-red">
      <span class="pts">0</span>
      <span class="label">No idea</span>
    </div>
  </div>
  <p>Final score = sum / max possible, shown as percentage.</p>
</section>

<!-- FUTURE -->
<section>
  <h2>Future: CC &amp; Mobility Tracker</h2>

  <div class="note">
    <strong>Data Dragon does NOT tag spells as CC or mobility.</strong>
    This is a follow-up task, not part of the initial implementation.
  </div>

  <p>Options:</p>
  <ol>
    <li><strong>Manual curation</strong> — create <code>championCC.json</code> with CC types and mobility flags per spell. Most reliable.</li>
    <li><strong>Keyword parsing</strong> — scan descriptions for "stun", "root", "slow", "dash", "blink", etc. Fragile but works as a first pass.</li>
    <li><strong>Hybrid</strong> — auto-generate from parsing, then manually verify.</li>
  </ol>
</section>

<!-- IMPLEMENTATION ORDER -->
<section>
  <h2>Implementation Order</h2>
  <div class="timeline">
    <div class="tl-item">
      <div class="tl-dot done"></div>
      <span class="tl-text done">Write plan (this file)</span>
    </div>
    <div class="tl-item">
      <div class="tl-dot done"></div>
      <span class="tl-text done">Create <code>fetchChampionSpells.mjs</code> + update <code>fetchChampions.mjs</code> with timestamps</span>
    </div>
    <div class="tl-item">
      <div class="tl-dot current"></div>
      <span class="tl-text current">Add <code>react-router-dom</code>, set up routes, extract current game into ClassTrainer</span>
    </div>
    <div class="tl-item">
      <div class="tl-dot pending"></div>
      <span class="tl-text pending">Build SkillsTrainer config screen</span>
    </div>
    <div class="tl-item">
      <div class="tl-dot pending"></div>
      <span class="tl-text pending">Build SkillsTrainer game loop + reveal cards</span>
    </div>
    <div class="tl-item">
      <div class="tl-dot pending"></div>
      <span class="tl-text pending">Build SkillsTrainer results screen</span>
    </div>
    <div class="tl-item">
      <div class="tl-dot pending"></div>
      <span class="tl-text pending">Landing page with game mode selection</span>
    </div>
  </div>
</section>

</div>
</body>
</html>
